(this["webpackJsonplowkeydd-dev"]=this["webpackJsonplowkeydd-dev"]||[]).push([[0],{47:function(n,e,t){},71:function(n,e,t){"use strict";t.r(e),t.d(e,"history",(function(){return xi}));var r={};t.r(r),t.d(r,"setMsg",(function(){return T})),t.d(r,"setUserLogin",(function(){return N})),t.d(r,"setUserRegister",(function(){return A}));var i={};t.r(i),t.d(i,"setFavoredList",(function(){return X})),t.d(i,"setFromChannelCard",(function(){return J}));var o={};t.r(o),t.d(o,"setElements",(function(){return An})),t.d(o,"setSlider",(function(){return Dn})),t.d(o,"setSliderFolded",(function(){return Hn})),t.d(o,"setFullScreen",(function(){return _n})),t.d(o,"setFromChannel",(function(){return Bn})),t.d(o,"resizeGridLayout",(function(){return In})),t.d(o,"appendIframeToPlaylist",(function(){return Un})),t.d(o,"removeIframeFromPlaylist",(function(){return Vn})),t.d(o,"switchChatBoxByCid",(function(){return Gn})),t.d(o,"removeIframeByCid",(function(){return Pn}));var a={};t.r(a),t.d(a,"setStore",(function(){return Le})),t.d(a,"setChannelCard",(function(){return Ae})),t.d(a,"setSearchResult",(function(){return De}));var c=t(22),s=t.n(c),l=(t(47),t(42)),d=t(3),u=t(2),p=t(16),h=t(5),f=t(4),b=t(1),x=t(19),j=x.c,g=function(){return Object(x.b)()},v=t(7),m=t(8),O=t.n(m),w="https://lowkeydd.ddnsking.com",y="Favorite",C="Resident",k=t(10),z=t(23);function F(n){if(document.cookie.length>0){var e=document.cookie.indexOf(n+"=");if(-1!==e){e=e+n.length+1;var t=document.cookie.indexOf(";",e);return-1===t&&(t=document.cookie.length),unescape(document.cookie.substring(e,t))}}return""}var S,E,T=function(n,e){void 0===e.payload?n.msg="":n.msg=e.payload},L=function(n,e){var t=e.username,r=e.ssid,i=e.expiration;n.username=t,n.ssid=r,function(n,e,t){var r=new Date(Date.now()+1e3*t).toUTCString();document.cookie="ssid=".concat(n,"; expires=").concat(r,"; path=/"),document.cookie="username=".concat(e,"; expires=").concat(r,"; path=/")}(r,t,i)},N=function(n,e){var t=e.payload,r=t.username,i=t.ssid,o=t.expiration,a=t.msg;L(n,{username:r,ssid:i,expiration:o}),n.msg=a},A=function(n,e){var t=e.payload,r=t.username,i=t.ssid,o=t.expiration,a=t.msg;L(n,{username:r,ssid:i,expiration:o}),n.msg=a},D={username:F("username"),ssid:F("ssid"),msg:""},H=Object(k.b)({name:"users",initialState:D,reducers:r}),_=H.actions,B=_.setMsg,I=_.setUserLogin,R=_.setUserRegister,q=H.reducer,W=function(n){return n.user},M=Object(z.a)([W],(function(n){return n.msg})),U=Object(z.a)([W],(function(n){return""!==n.username&&""!==n.username})),V=function(n,e){var t=e.isChanged,r=e.isNewAdded,i=e.isDeleted,o=n.cid,a=n.cname,c=n.owner,s=n.avatar,l=n.method,d=n.group;return{cid:o,cname:a,owner:c,avatar:s,method:l,group:d===C?y:d,isChanged:t,isNewAdded:r,isDeleted:i}},G=function(n,e){var t=e.group,r=e.heart;return Object(u.a)(Object(u.a)({},n),{},{group:t,heart:r})},P=function(n,e){var t=e.isChanged,r=e.isNewAdded,i=e.isDeleted,o=n.cid,a=n.cname,c=n.owner,s=n.avatar,l=n.method,d=n.group;return{cid:o,cname:a,owner:c,avatar:s,method:l,group:d===C?y:d,isChanged:t,isNewAdded:r,isDeleted:i}},X=function(n,e){var t=e.payload,r=t.group,i=t.list;null!==r&&(n.group=r),n.favoredList=i},J=function(n,e){var t=e.payload,r=t.card,i=t.options,o=i.isChanged,a=i.isNewAdded,c=i.isDeleted,s=n.favoredList;if(r.heart)n.favoredList=[V(r,{isChanged:o,isNewAdded:a,isDeleted:c})].concat(Object(v.a)(s.filter((function(n){return n.cid!==r.cid}))));else if(a)n.favoredList=s.filter((function(n){return n.cid!==r.cid}));else{var l=V(r,{isChanged:o,isNewAdded:a,isDeleted:!0});n.favoredList=s.map((function(n){return n.cid!==l.cid?n:l}))}},Y=Object(k.b)({name:"favored",initialState:{group:[],favoredList:[]},reducers:i}),K=Y.actions,Q=K.setFavoredList,Z=K.setFromChannelCard,$=Y.reducer,nn=function(n){return n.favored},en=Object(z.a)([nn],(function(n){return n.favoredList})),tn=Object(z.a)([nn],(function(n){return n.group})),rn=Object(z.a)([en],(function(n){var e=n.filter((function(n){return!n.isDeleted})).map((function(n){return n.group===C?Object(u.a)(Object(u.a)({},n),{},{group:y}):n})),t=new Map,r=[];return e.forEach((function(n){t.has(n.group)||(t.set(n.group,!0),r.push(n.group))})),{list:e.map((function(n){return function(n){var e=n.cid,t=n.cname,r=n.owner,i=n.avatar,o=n.method,a=n.group;return{cid:e,cname:t,owner:r,avatar:i,method:o,group:a===C?y:a}}(n)})),group:r}})),on=Object(z.a)([tn,en],(function(n,e){if(0===n.length)return[[]];var t=n.map((function(n){return[]}));return e.forEach((function(e){var r=n.indexOf(e.group);t[r].push(e)})),t})),an=Object(z.a)([en],(function(n){for(var e=!1,t=n.length,r=0;r<t;r++){var i=n[r],o=i.isChanged,a=i.isNewAdded,c=i.isDeleted;if(o||a||c){e=!0;break}}return e})),cn=Object(z.a)([en],(function(n){for(var e=0,t=n.length,r=0;r<t;r++){n[r].isNewAdded&&(e+=1)}return e})),sn=t(0);function ln(n){var e=n.title,t=n.path,r=n.icon,i=n.beforeSwitch,o=n.afterSwitch,a=j(an),c=j(W),s=j(U),l=j(rn),d=g(),p=function(n,e){if(!s)return xi.push({pathname:"/login/"}),!0;if(a){var t=c.username,r=c.ssid;return d(function(n,e,t,r){return function(i){var o=new FormData;o.append("username",n),o.append("ssid",e),o.append("visit",JSON.stringify(Object(u.a)({},t))),O.a.post("".concat(w,"/visit/update"),o).then((function(n){var e=n.data.code;if("success"===e){var o=t.group&&t.group.length>0?t.group.includes(y)?t.group:[y].concat(Object(v.a)(t.group)):[y],a=t.list&&t.list.length>0?t.list.map((function(n){return V(n,{isChanged:!1,isDeleted:!1,isNewAdded:!1})})):[];i(Q({list:a,group:o})),xi.push({pathname:r}),i(B(""))}else"failure"===e&&(Q({list:[],group:[y]}),xi.push({pathname:"/login"}),i(B("\u767c\u751f\u932f\u8aa4\u4e86\uff0c\u9ebb\u7169\u8acb\u91cd\u65b0\u767b\u5165")))}),(function(n){}))}}(t,r,l,e)),!0}return!1},h=function(n){return!1},f=function(n){return!!s&&(d(B("".concat(c.username," \u8981\u767b\u51fa\u55ce?"))),xi.push({pathname:"/logout/"}),!0)};return Object(sn.jsxs)(un,{children:[Object(sn.jsxs)(pn,{onClick:function(){if(""!==t){i();var n=xi.location.pathname;if(n!==t)if(!function(n,e){switch(n){case"/favored/":return p(n,e);default:return!1}}(n,t))(function(n,e){switch(e){case"/login/":return f(e);case"/register/":return h(e);default:return!1}})(0,t)||(d(B("")),xi.push({pathname:"".concat(t)}));o()}},children:[r,Object(sn.jsx)("p",{children:e})]}),n.children]})}var dn,un=f.a.div(S||(S=Object(d.a)(["\n  display: flex;\n  :hover {\n    div {\n      // Container\n      background-color: var(--menuText_Hover);\n\n      p {\n        // NavItemTextColor\n        color: #fff;\n      }\n      svg {\n        // NavItemIconColor\n        color: #fff;\n      }\n    }\n\n    div {\n      h3 {\n        // NavUser-Backaground\n        background-color: var(--menuText_Hover);\n\n        span{\n          // NavUser-UserName\n          color: #fff;\n        }\n      }\n    }\n  }\n"]))),pn=f.a.div(E||(E=Object(d.a)(["\n  position: relative;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  padding: 0 1.5em;\n  cursor: pointer;\n  div {\n    width: 80%;\n    p {\n      margin: 0px;\n    }\n  }\n\n  svg {\n    color: var(--menuText);\n    margin-right: 10px;\n    font-size: 26px;\n  }\n  p {\n    color: var(--menuText);\n    text-decoration: none;\n    font-size: 23px;\n    letter-spacing: 5px;\n  }\n\n  transition: 0.3s;\n\n  // \u87a2\u5e55\u5bec\u5ea6\u5c0f\u65bc768px\u6642\n  @media screen and (max-width: 768px) and (min-width: 480px) {\n    margin: 0 0;\n    padding: 0 0;\n    svg {\n      margin: 0px 0px;\n      padding: 0 16px;\n      font-size: 35px;\n    }\n    p {\n      display: none;\n    }\n  }\n  @media screen and (max-width: 480px) {\n    width: 80%;\n    margin: 0px 10px 0px 15px;\n    padding: 25px;\n    /* background-color: orange; */\n    display: flex;\n    align-items: center;\n    justify-content: space-evenly;\n\n    svg {\n      font-size: 28px;\n    }\n    p {\n      margin: 0px;\n      display: block;\n      letter-spacing: 10px;\n      font-size: 25px;\n      width: 50%;\n    }\n  }\n"])));function hn(n){return Object(sn.jsx)(ln,Object(u.a)({},n))}function fn(n){var e=j(cn);return Object(sn.jsx)(ln,Object(u.a)(Object(u.a)({},n),{},{children:Object(sn.jsx)(xn,{visible:e>0,children:Object(sn.jsx)("span",{children:e})})}))}var bn,xn=f.a.div(dn||(dn=Object(d.a)(["\n  --display: ",';\n  display: var(--display);\n  text-align: center;\n  line-height: 18px;\n  position: absolute;\n  color: #fff;\n  z-index: 2;\n  top: 22px;\n  right: 95px;\n  font-size: 12px;\n  pointer-events: none;\n\n  span {\n    display: var(--display);\n    content: "";\n    transform: translate(-50%, -50%);\n    position: absolute;\n    top: 0px;\n    left: 0px;\n    width: 18px;\n    height: 18px;\n    color: white;\n    background-color: red;\n    border-radius: 50%;\n    z-index: -1;\n  }\n  @media screen and (max-width: 768px) and (min-width: 480px) {\n    line-height: 18px;\n    top: 19px;\n    right: 24px;\n    font-size: 14px;\n  }\n  @media screen and (max-width: 480px) {\n    line-height: 16px;\n    font-size: 12px;\n    top: 327px;\n    left: 102px;\n  }\n'])),(function(n){return[n.visible?"block":"none"]}));function jn(n){return Object(sn.jsx)(ln,Object(u.a)({},n))}function gn(n){var e=j(W),t=j(U),r=e.username.length>6?e.username.substring(0,6)+"...":e.username;return Object(sn.jsx)(ln,Object(u.a)(Object(u.a)({},n),{},{children:Object(sn.jsx)(Cn,{visible:t,children:Object(sn.jsxs)("h3",{children:[Object(sn.jsx)("span",{}),Object(sn.jsx)("span",{children:r})]})})}))}var vn,mn,On,wn,yn,Cn=f.a.div(bn||(bn=Object(d.a)(["\n  --display: ",';\n  display: var(--display);\n  text-align: center;\n  line-height: 18px;\n  position: absolute;\n  color: #fff;\n  z-index: 2;\n  top: 22px;\n  right: 95px;\n  font-size: 12px;\n\n  h3 {\n    display: var(--display);\n    content: "";\n    transform: translate(-50%, -50%);\n    position: absolute;\n    top: 19px;\n    left: -140px;\n    width: 10px;\n    height: 10px;\n    color: white;\n    background-color: var(--navColor);\n    border-radius: 50%;\n    pointer-events: none;\n\n    // green login dot\n    span:nth-child(1) {\n      display: var(--display);\n      content: "";\n      position: absolute;\n      top: 2px;\n      left: 0px;\n      width: 6px;\n      height: 6px;\n      background-color: #54f542;\n      border-radius: 50%;\n\n    }\n    // downMenu\n    span:nth-child(2) {\n      display: var(--display);\n      content: "";\n      transform: translate(-50%, -50%);\n      position: relative;\n      top: 16px;\n      left: 30px;\n      color: var(--menuText);\n      width: 100px;\n      font-size: 14px;\n\n    }\n\n    transition: 0.3s;\n  }\n  @media screen and (max-width: 768px) and (min-width: 480px) {\n    line-height: 18px;\n    top: 19px;\n    right: 24px;\n    font-size: 14px;\n\n    h3 {\n      top: 25px;\n      left: -67px;\n      width: 14px;\n      height: 14px;\n\n      span:nth-child(1) {\n        top: 2px;\n        left: 2px;\n        width: 10px;\n        height: 10px;\n      }\n\n      span:nth-child(2) {\n        left: 0px;\n        width: 100px;\n        font-size: 14px;\n      }\n    }\n  }\n  @media screen and (max-width: 480px) {\n    line-height: 16px;\n    font-size: 12px;\n    top: 28px;\n    left: -265px;\n\n    h3 {\n      top: 242px;\n      left: 367px;\n      width: 10px;\n      height: 10px;\n      background-color: var(--menuBgColor);\n\n      span:nth-child(1) {\n        top: 2px;\n        left: 2px;\n        width: 6px;\n        height: 6px;\n      }\n\n      span:nth-child(2) {\n        top: 16px;\n        left: 0px;\n      }\n    }\n  }\n'])),(function(n){return[n.visible?"block":"none"]})),kn=function(n,e){return{cid:n.cid,cname:n.cname,avatar:n.avatar,streamurl:n.streamurl,preview:n.thumbnail,method:n.method,checked:e.checked}},zn=function(n,e){return n?n.filter((function(n){return n.cid!==e.cid})).concat(e):[e]},Fn=function(n,e){return n?n.filter((function(n){return n.cid!==e})):[]},Sn={IsLocal:!1,HostName:""},En=function(n,e,t){var r="";switch(n){case"youtube":var i=e.match(/https?:\/\/www.youtube.com\/watch\?v=(\S*)/),o=i?i[1]:"";r="//www.youtube.com/embed/".concat(o,"?enablejsapi=1&origin=").concat(Sn.HostName,"&widgetid=1");break;case"twitch":r="//player.twitch.tv?allowfullscreen=false&channel=".concat(t,"&parent=").concat(Sn.HostName,"&muted=false&autoplay=false")}return r},Tn=function(n,e,t){var r="";switch(n){case"youtube":var i=e.match(/https?:\/\/www.youtube.com\/watch\?v=(\S*)/),o=i?i[1]:"";r="//www.youtube.com/live_chat?v=".concat(o,"&is_popout=1&embed_domain=").concat(Sn.HostName,"&dark_theme=1");break;case"twitch":r="//www.twitch.tv/embed/".concat(t,"/chat?darkpopout=&secret=safe&parent=").concat(Sn.HostName)}return r},Ln=function(n){n.requestFullScreen?n.requestFullScreen():n.mozRequestFullScreen?n.mozRequestFullScreen():n.webkitRequestFullScreen?n.webkitRequestFullScreen(Element.ALLOW_KEYBOARD_INPUT):n.msRequestFullscreen&&n.msRequestFullscreen()},Nn=function(){document.cancelFullScreen?document.cancelFullScreen():document.mozCancelFullScreen?document.mozCancelFullScreen():document.webkitCancelFullScreen?document.webkitCancelFullScreen():document.msExitFullscreen&&document.msExitFullscreen()},An=function(n,e){var t=e.payload.channels;0===t.length&&(n.elements=[],n.slider.sliderIndex=0);var r=new Map;n.playlist.forEach((function(n){return r.set(n.cid,!0)}));var i=0,o="";n.fromChannel.length>0&&(o=n.fromChannel[0].cid);var a=t.map((function(n,e){return n.cid===o&&(i=e),r.get(n.cid)?kn(n,{checked:!0}):kn(n,{checked:!1})}));n.fromChannel=[],n.elements=a,n.slider.sliderIndex=i+1},Dn=function(n,e){var t=e.payload,r=t.next,i=t.isTakenOverAnim;n.slider.sliderIndex=r,n.slider.isTakenOverAnim=i},Hn=function(n,e){n.playlist.length>0&&window.dispatchEvent(new Event("resize")),n.slider.isFolded=e.payload},_n=function(n,e){e.payload?Ln(document.body):Nn(),n.slider.isFullScreen=e.payload},Bn=function(n,e){var t=e.payload.item,r=function(n,e){var t=n.cid,r=n.cname,i=n.avatar,o=n.thumbnail,a=n.method,c=n.streamurl,s=e.ratio,l=e.w,d=e.h;return{cid:t,streamurl:c,src:En(a,c,r),cname:r,avatar:i,preview:o,method:a,ratio:s||.5625,w:l,h:d}}(t,{w:0,h:0}),i=function(n,e){var t=n.cid,r=n.cname,i=n.avatar,o=n.thumbnail,a=n.method,c=n.streamurl,s=e.ratio,l=e.w,d=e.h,u=e.isEnable;return{cid:t,streamurl:c,src:Tn(a,c,r),cname:r,avatar:i,preview:o,method:a,ratio:s||.5625,w:l,h:d,isEnable:u}}(t,{w:0,h:0,isEnable:"live"===t.status});n.fromChannel=[t],n.playlist=[r],n.chatlist=[i],xi.push({pathname:"/theater"})},In=function(n,e){var t=e.payload,r=t.clientWidth,i=t.clientHeight,o=n.gridlayout.ratio,a=n.playlist.length,c=Rn(r,i,o,a),s=c.flexType,l=c.pw,d=c.ph,u=c.cw,p=c.ch,h=c.col,f=c.row,b=Mn(r,i,f,h,o),x=b.w,j=b.h,g=[],v=[];n.chatlist.forEach((function(e,t){var r=n.playlist[t];e.isEnable?(g.push(qn(r,{w:l,h:d})),v.push(qn(e,{w:u,h:p}))):(g.push(qn(r,{w:x,h:j})),v.push(qn(e,{w:0,h:0})))})),n.playlist=g,n.chatlist=v,n.gridlayout={flexType:s,ratio:o,clientWidth:r,clientHeight:i,col:h,row:f}},Rn=function(n,e,t,r){for(var i={col:0,row:0,cw:0,ch:0,pw:0,ph:0,flexType:"column"},o=0,a=1;a<r+1;a++){var c=Math.ceil(r/a),s=n/a,l=e/c,d=0,p=0,h=0,f=0;if(l>320){h=s,f=l-(p=Math.min(s*t,l-320));var b=p*(d=p*(1/t));b>o&&(o=b,i=Wn(a,c,h,f,d,p,"column"))}if(s>320){f=l,h=s-(d=Math.min(l*(1/t),s-320));var x=(p=d*t)*d;x>o&&(o=x,i=Wn(a,c,h,f,d,p,"row"))}if(l<=320&&s<=320){h=0,f=0;var j=(p=Math.min(s*t,l))*(d=p*(1/t));j>o&&(o=j,i=Wn(a,c,h,f,d,p,"column"))}}return Object(u.a)({},i)},qn=function(n,e){var t=e.ratio,r=e.w,i=e.h;return Object(u.a)(Object(u.a)({},n),{},{ratio:t||.5625,w:r,h:i})},Wn=function(n,e,t,r,i,o,a){return{col:n,row:e,cw:t,ch:r,pw:i,ph:o,flexType:a}},Mn=function(n,e,t,r,i){var o=n/r*i,a=Math.min(o,e/t);return{w:a*(1/i),h:a}},Un=function(n,e){var t=e.payload.item,r=Object(u.a)(Object(u.a)({},t),{},{checked:!0}),i=n.elements.map((function(n){return n.cid===t.cid?r:n})),o=zn(n.playlist,function(n,e){var t=n.cid,r=n.cname,i=n.avatar,o=n.preview,a=n.method,c=n.streamurl,s=e.ratio,l=e.w,d=e.h;return{cid:t,streamurl:c,src:En(a,c,r),cname:r,avatar:i,preview:o,method:a,ratio:s||.5625,w:l,h:d}}(r,{w:0,h:0})),a=zn(n.chatlist,function(n,e){var t=n.cid,r=n.cname,i=n.avatar,o=n.preview,a=n.method,c=n.streamurl,s=e.ratio,l=e.w,d=e.h,u=e.isEnable;return{cid:t,streamurl:c,src:Tn(a,c,r),cname:r,avatar:i,preview:o,method:a,ratio:s||.5625,w:l,h:d,isEnable:u}}(r,{w:0,h:0,isEnable:!0}));n.elements=i,n.playlist=o,n.chatlist=a,n.playlist.length>0&&window.dispatchEvent(new Event("resize"))},Vn=function(n,e){var t=e.payload.item,r=Object(u.a)(Object(u.a)({},t),{},{checked:!1}),i=n.elements.map((function(n){return n.cid===t.cid?r:n}));n.elements=i,n.playlist=Fn(n.playlist,t.cid),n.chatlist=Fn(n.chatlist,t.cid),n.playlist.length>0&&window.dispatchEvent(new Event("resize"))},Gn=function(n,e){var t=e.payload.cid;n.chatlist=n.chatlist.map((function(n){return n.cid===t?Object(u.a)(Object(u.a)({},n),{},{isEnable:!n.isEnable}):n})),n.playlist.length>0&&window.dispatchEvent(new Event("resize"))},Pn=function(n,e){var t=e.payload.cid;n.elements.length>0&&(n.elements=n.elements.map((function(n){return n.cid===t?Object(u.a)(Object(u.a)({},n),{},{checked:!1}):n}))),n.playlist=Fn(n.playlist,t),n.chatlist=Fn(n.chatlist,t),n.playlist.length>0&&window.dispatchEvent(new Event("resize"))},Xn=Object(k.b)({name:"theater",initialState:{fromChannel:[],elements:[],playlist:[],chatlist:[],slider:{sliderIndex:0,isTakenOverAnim:!1,isFolded:!1,isFullScreen:!1},gridlayout:{flexType:"column",ratio:.5625,clientWidth:0,clientHeight:0,col:0,row:0}},reducers:o}),Jn=Xn.actions,Yn=Jn.setElements,Kn=Jn.setSlider,Qn=Jn.setSliderFolded,Zn=Jn.setFullScreen,$n=Jn.setFromChannel,ne=Jn.resizeGridLayout,ee=Jn.appendIframeToPlaylist,te=Jn.removeIframeFromPlaylist,re=Jn.removeIframeByCid,ie=Jn.switchChatBoxByCid,oe=Xn.reducer,ae=function(n){return n.theater},ce=Object(z.a)([ae],(function(n){return n.elements})),se=(Object(z.a)([ae],(function(n){return n.playlist})),Object(z.a)([ae],(function(n){for(var e=n.playlist,t=n.chatlist,r=e.length,i=[],o=0;o<r;o++)i.push({player:e[o],chatbox:t[o]});return i}))),le=Object(z.a)([ae],(function(n){return n.gridlayout})),de=Object(z.a)([ae],(function(n){return n.slider})),ue=Object(z.a)([ce],(function(n){return n.length})),pe=Object(z.a)([ce],(function(n){return n.length>0?[n[n.length-1]].concat(Object(v.a)(n),[n[0]]):[]}));function he(){var n=Object(b.useState)(!1),e=Object(p.a)(n,2),t=e[0],r=e[1],i=j(de).isFolded,o=function(){r(!t)},a=function(){},c=function(){o()};return Object(sn.jsx)(ze,{children:Object(sn.jsxs)(Fe,{isFolded:i,children:[Object(sn.jsx)(Se,{children:Object(sn.jsx)("p",{children:"LowkeyDD"})}),Object(sn.jsxs)(Ee,{isEnable:t,children:[Object(sn.jsx)(Te,{onClick:o,children:Object(sn.jsx)("div",{children:Object(sn.jsx)(h.o,{})})}),Object(sn.jsxs)("ul",{children:[Object(sn.jsx)(Te,{onClick:o,children:Object(sn.jsx)("div",{children:Object(sn.jsx)(h.f,{})})}),Object(sn.jsx)(hn,Object(u.a)(Object(u.a)({},ke[0]),{},{beforeSwitch:a,afterSwitch:c})),Object(sn.jsx)(jn,Object(u.a)(Object(u.a)({},ke[1]),{},{beforeSwitch:a,afterSwitch:c})),Object(sn.jsx)(gn,Object(u.a)(Object(u.a)({},ke[2]),{},{beforeSwitch:a,afterSwitch:c})),Object(sn.jsx)(fn,Object(u.a)(Object(u.a)({},ke[3]),{},{beforeSwitch:a,afterSwitch:c}))]})]})]})})}var fe,be,xe,je,ge,ve,me,Oe,we,ye,Ce,ke=[{title:"\u700f\u89bd",path:"/channels/",icon:Object(sn.jsx)(h.m,{})},{title:"\u5f71\u9662",path:"/theater/",icon:Object(sn.jsx)(h.w,{})},{title:"\u6703\u54e1",path:"/login/",icon:Object(sn.jsx)(h.t,{})},{title:"\u6536\u85cf",path:"/favored/",icon:Object(sn.jsx)(h.d,{})}],ze=f.a.div(vn||(vn=Object(d.a)(["\n  position: fixed; //\u9019\u6a23\u624d\u80fd\u8b93NAV\u56fa\u5b9a\u5728\u756b\u9762\u4e0a\n  width: 100%;\n  --navColor: #4c4a46;\n  --toogleColor: #1985a1;\n  --menuBgColor: #4c5c68;\n  --menuText: #c5c3c6;\n  --menuText_Hover: #1985a1;\n  --logoColor: #fff;\n  z-index: 5;\n"]))),Fe=f.a.nav(mn||(mn=Object(d.a)(["\n  position: relative;\n  top: ",";\n  background-color: var(--navColor);\n  display: flex;\n  align-items: center;\n  justify-content: flex-start;\n"])),(function(n){return n.isFolded?"-65px":"0px"})),Se=f.a.div(On||(On=Object(d.a)(["\n  position: relative;\n  padding: 0 1rem;\n  background: none;\n  width: 150px; // \u7531\u5167\u90e8logo\u5b57\u9ad4\u6c7a\u5b9a\u5bec\u5ea6\n  height: 65px;\n  display: flex;\n  align-items: center;\n  justify-content: flex-end;\n  z-index: 1;\n  p {\n    color: var(--logoColor);\n    font-size: 25px;\n    letter-spacing: 2px;\n  }\n  // \u87a2\u5e55\u5bec\u5ea6\u5c0f\u65bc480px\u6642\n  @media screen and (max-width: 480px) {\n    position: absolute;\n    top: 0;\n    right: 0;\n  }\n"]))),Ee=f.a.ul(wn||(wn=Object(d.a)(["\n  position: absolute;\n  background-color: var(--navColor);\n  width: 100%; //\u5269\u4e0b\u7684\u90e8\u5206\n  height: 100%;\n  display: flex;\n  align-items: center;\n  ul {\n    position: relative;\n    /* background-color: #0051ff; */\n    width: 100%; //\u5269\u4e0b\u7684\u90e8\u5206\n    height: 100%;\n    display: flex;\n    justify-content: flex-end;\n  }\n\n  // \u87a2\u5e55\u5bec\u5ea6\u5c0f\u65bc480px\u6642\n  @media screen and (max-width: 480px) {\n    ul {\n      position: absolute;\n      top: 0;\n      left: 0;\n      background-color: var(--menuBgColor);\n      width: 380px;\n      height: 100vh;\n      display: flex;\n      flex-direction: column;\n      justify-content: flex-start;\n      padding: 65px 0 0 0;\n      transform: ",";\n      transition: transform 0.2s ease-in;\n    }\n  }\n"])),(function(n){return n.isEnable?"translateX(0%)":"translateX(-100%)"})),Te=f.a.div(yn||(yn=Object(d.a)(["\n  position: absolute;\n  background-color: var(--navColor);\n  color: var(--toogleColor);\n  top: 0px;\n  left: 0px;\n  width: 100%; //\u7528\u5b83\u4f86\u7576\u4f5cNAV\u7684\u5e95\u5c64\n  height: 65px;\n  font-size: 40px;\n  div {\n    display: none;\n  }\n  @media screen and (max-width: 480px) {\n    div {\n      width: 65px;\n      height: 65px;\n      display: flex;\n      justify-content: center;\n      align-items: center;\n      :hover {\n        background-color: var(--toogleColor);\n        color: var(--logoColor);\n      }\n    }\n  }\n"]))),Le=function(n,e){var t=e.payload,r=t.channels,i=t.group,o=t.list,a=t.tags;n.group=i,n.tags="all"===a[0]?["live","wait","off"]:a,o&&(n.favoredList=o.map((function(n){return P(n,{isChanged:!1,isNewAdded:!1,isDeleted:!1})}))),Ne(n,r,i)},Ne=function(n,e,t){var r=e.map((function(n,e){return null!==n?n.map((function(n){return G(n,{group:t[e],heart:t[e]!==C})})):[]}));n.clusters=r,n.hasFetchChannels=!0},Ae=function(n,e){var t=e.payload,r=t.card,i=t.options,o=i.isChanged,a=i.isNewAdded,c=i.isDeleted,s=n.favoredList;if(r.heart)n.favoredList=[P(r,{isChanged:o,isNewAdded:a,isDeleted:c})].concat(Object(v.a)(s.filter((function(n){return n.cid!==r.cid}))));else if(a)n.favoredList=Object(v.a)(s.filter((function(n){return n.cid!==r.cid})));else{var l=P(r,{isChanged:o,isNewAdded:a,isDeleted:!0});n.favoredList=s.map((function(n){return n.cid!==l.cid?n:l}))}n.clusters=n.clusters.map((function(n){return 0!==n.length?n.map((function(n){return n.cid!==r.cid?n:r})):[]}))},De=function(n,e){var t=e.payload.current;if(null!==t)if(n.current=t,!0===t.heart){var r=P(Object(u.a)(Object(u.a)({},t),{},{group:y}),{isChanged:!1,isNewAdded:!0,isDeleted:!1});n.favoredList=[r].concat(Object(v.a)(n.favoredList))}else n.favoredList=n.favoredList.filter((function(n){return n.cid!==t.cid}))},He=Object(k.b)({name:"channelCardStore",initialState:{hasFetchChannels:!1,clusters:[[]],group:[],favoredList:[],tags:["live"],current:null},reducers:a}),_e=He.actions,Be=_e.setStore,Ie=_e.setChannelCard,Re=_e.setSearchResult,qe=He.reducer,We=function(n){return n.channelCardStore},Me=Object(z.a)([We],(function(n){return n.hasFetchChannels})),Ue=Object(z.a)([We],(function(n){return n.clusters.filter((function(n){return null!==n}))})),Ve=Object(z.a)([We],(function(n){return n.tags})),Ge=Object(z.a)([We],(function(n){return n.group})),Pe=Object(z.a)([We],(function(n){return n.current}));function Xe(n){var e=n.avatar,t=n.cid,r=n.owner,i=n.status,o=n.thumbnail,a=n.title,c=n.viewcount,s=n.starttime,l=n.group,d=n.heart,f=n,x=j(U),v=Object(b.useState)(!0),m=Object(p.a)(v,2),O=m[0],w=m[1],y=Object(b.useRef)(null),k=Ke(i),z=Ze(i,d),F=et(t,i,o,O),S=g();return Object(b.useEffect)((function(){var n=y.current,e=new IntersectionObserver((function(n){var e=Object(p.a)(n,1)[0];w(e.isIntersecting)}));return n&&e.observe(n),function(){n&&e.unobserve(n),e.disconnect()}}),[y,O]),Object(sn.jsxs)(Ye,{ref:y,children:[Object(sn.jsxs)(Qe,Object(u.a)(Object(u.a)({},k),{},{children:[Object(sn.jsx)("img",{src:O?e:void 0,alt:"avatar_"+t}),Object(sn.jsx)("div",{children:Object(sn.jsx)("h1",{children:i})})]})),Object(sn.jsx)($e,Object(u.a)(Object(u.a)({onClick:function(){if(!x)return S(B("\u60f3\u52a0\u6536\u85cf\u8981\u5148\u767b\u5165\u5537")),void xi.push({pathname:"/login"});var e=Object(u.a)(Object(u.a)({},n),{},{heart:!d});"Search Result"===l?(S(Re({current:Object(u.a)(Object(u.a)({},n),{},{heart:!d})})),S(Z({card:e,options:{isChanged:!1,isNewAdded:!0,isDeleted:!1}}))):(S(Ie({card:e,options:{isChanged:!1,isNewAdded:l===C,isDeleted:!1}})),S(Z({card:e,options:{isChanged:!1,isNewAdded:l===C,isDeleted:!1}})))}},z),{},{children:z.icon})),Object(sn.jsxs)(nt,{children:[Object(sn.jsx)(tt,Object(u.a)(Object(u.a)({},F),{},{onClick:function(){"failure"!==i&&"error"!==i&&S($n({item:f}))},children:F.image})),Object(sn.jsxs)(rt,{children:[Object(sn.jsx)(it,{children:Object(sn.jsx)("h1",{children:r})}),Object(sn.jsx)(ot,{children:Object(sn.jsx)("p",{children:a})}),Object(sn.jsxs)(at,{children:[Object(sn.jsxs)(ct,{children:[Object(sn.jsx)(h.i,{}),Object(sn.jsx)("p",{children:c})]}),Object(sn.jsxs)(st,{children:[Object(sn.jsx)(h.e,{}),Object(sn.jsx)("p",{children:"live"===i?"\u76f4\u64ad\u4e2d":s})]})]})]})]})]})}var Je,Ye=f.a.div(fe||(fe=Object(d.a)(["\n  --navColor: #4c4a46;\n  --toogleColor: #1985a1;\n  --menuBgColor: #4c5c68;\n  --menuText: #c5c3c6;\n  --menuText_Hover: #1985a1;\n  --bkgColor: #fff;\n\n  /* background-color: #999; */\n  position: relative;\n  width: 100%;\n  height: 100%;\n  box-sizing: border-box;\n"]))),Ke=function(n){switch(n){case"live":return{fontcolor:"#fff",fontbgcolor:"#ee5253",bordercolor:"#f00",ishidden:!1};case"wait":return{fontcolor:"#fff",fontbgcolor:"#34afeb",bordercolor:"#6a97ad",ishidden:!1};case"off":return{fontcolor:"#f9fae6",fontbgcolor:"#616161",bordercolor:"#616161",ishidden:!1};default:return{fontcolor:"#f0d8e2",fontbgcolor:"#cb4ede",bordercolor:"#6c3075",ishidden:!0}}},Qe=f.a.div(be||(be=Object(d.a)(["\n  display: ",";\n  position: absolute;\n  z-index: 1;\n  background: none;\n  pointer-events: none;\n  img {\n    width: 4.8em;\n    border: 5px solid ",";\n    border-radius: 50%;\n  }\n  div {\n    position: relative;\n    background: none;\n    top: -12px;\n    left: 0;\n    width: 100%;\n    padding: 3px 0;\n    h1 {\n      margin: auto;\n      width: 48px;\n      padding: 1px 1px;\n      color: ",";\n      background-color: ",";\n      text-align: center;\n      font-size: 18px;\n      text-transform: uppercase;\n      border-radius: 3px;\n    }\n  }\n"])),(function(n){return n.ishidden?"none":"static"}),(function(n){return n.fontbgcolor}),(function(n){return n.fontcolor}),(function(n){return n.fontbgcolor})),Ze=function(n,e){switch(n){case"failure":case"error":return{color:"",hoverColor:"",icon:null,isHidden:!0};default:return!0===e?{color:"#ee5253",hoverColor:"#ee5253",icon:Object(sn.jsx)(h.c,{}),isHidden:!1}:{color:"#aaa",hoverColor:"#ee5253",icon:Object(sn.jsx)(h.m,{}),isHidden:!1}}},$e=f.a.div(xe||(xe=Object(d.a)(["\n  display: ",";\n  position: absolute;\n  transform: translate(-50%, -50%);\n  right: 0.5em;\n  top: 2.5em;\n  z-index: 1;\n\n  text-align: center;\n  cursor: pointer;\n\n  width: 40px;\n  height: 40px;\n  background-color: none;\n  \n\n  svg {\n    font-size: 35px;\n    color: ",";\n    transition: 0.1s;\n  }\n\n  :hover {\n    svg {\n      font-size: 38px;\n      color: ",";\n    }\n  }\n"])),(function(n){return n.isHidden?"none":"static"}),(function(n){return n.color}),(function(n){return n.hoverColor})),nt=f.a.div(je||(je=Object(d.a)(["\n  background-color: none;\n  border-radius: 1.2em;\n  box-shadow: 0 15px 25px rgba(0, 0, 0, 0.5);\n  margin: 10px 10px;\n\n"]))),et=function(n,e,t,r){switch(e){case"failure":return{isEnabled:!1,image:Object(sn.jsxs)("div",{children:[Object(sn.jsx)(h.b,{}),Object(sn.jsx)("h1",{children:"\u7372\u53d6\u983b\u9053\u8a0a\u606f\u767c\u751f\u932f\u8aa4"})]})};case"error":return{isEnabled:!1,image:Object(sn.jsxs)("div",{children:[Object(sn.jsx)(h.a,{}),Object(sn.jsx)("h1",{children:"\u8f38\u5165\u7684\u7db2\u5740\u683c\u5f0f\u6709\u8aa4?"}),Object(sn.jsx)("p",{children:"\u53ef\u53c3\u8003\u4e0b\u65b9\u7684\u7db2\u5740\u7bc4\u4f8b : "}),Object(sn.jsx)("p",{children:"https://www.twitch.tv/xxxx"}),Object(sn.jsx)("p",{children:"https://www.youtube.com/channel/xxxx"})]})};default:return{isEnabled:!0,image:Object(sn.jsx)("div",{children:Object(sn.jsx)("img",{src:r?t:void 0,alt:"thumbnail_"+n})})}}},tt=f.a.a(ge||(ge=Object(d.a)(["\n  padding: 10px;\n  display: flex;\n  align-items: center;\n  //\u9ede\u64ca\u5f8c\u5c07\u8df3\u8f49\u5230Theater\n  cursor: ",";\n\n  div {\n    background-color: #000;\n    position: relative;\n    width: 100%;\n\n    display: flex;\n    flex-direction: column;\n    align-items: center;\n    justify-content: center;\n    height: 15rem;\n    // \u900f\u904ehidden\u628a\u8d85\u51fa\u7bc4\u570d\u7684\u5716\u7247\u76f4\u63a5\u526a\u88c1\u6389\n    overflow: hidden;\n    border-radius: 1.2em;\n    box-sizing: border-box;\n\n    color: var(--toogleColor);\n\n    // \u983b\u9053\u6b63\u78ba\u986f\u793a\u6642\n    img {\n      width: 99.9%;\n      border-radius: 6px;\n    }\n\n    // \u932f\u8aa4\u63d0\u793a\u8a0a\u606f\n    svg {\n      margin: 0 0 10px 0;\n      font-size: 150px;\n    }\n    h1 {\n      font-size: 18px;\n      margin: 0 0 10px 0;\n    }\n    p {\n      font-size: 1.5vmin;\n    }\n  }\n"])),(function(n){return n.isEnabled?"pointer":"auto"})),rt=f.a.div(ve||(ve=Object(d.a)(["\n  /* background-color: royalblue; */\n\n  box-sizing: border-box;\n  display: flex;\n  flex-direction: column;\n  justify-content: space-between;\n  align-items: center;\n  margin: 6px auto;\n  border-radius: 10px;\n"]))),it=f.a.div(me||(me=Object(d.a)(["\n  /* background-color: royalblue; */\n  width: 100%;\n  margin: 0 0 10px;\n  height: 56px;\n  border-bottom: 1px solid silver;\n\n  display: -webkit-box;\n  -webkit-line-clamp: 2;\n  -webkit-box-orient: vertical;\n  text-overflow: ellipsis;\n  overflow: hidden;\n  color: #fff;\n  h1 {\n    font-size: 26px;\n    line-height: 30px;\n    text-align: center;\n    letter-spacing: 5px;\n  }\n"]))),ot=f.a.div(Oe||(Oe=Object(d.a)(["\n  /* background-color: royalblue; */\n  width: 100%;\n  display: -webkit-box;\n  -webkit-line-clamp: 2;\n  -webkit-box-orient: vertical;\n  text-overflow: ellipsis;\n  overflow: hidden;\n  color: #fff;\n  p {\n    /* background-color: royalblue; */\n    font-size: 16px;\n    line-height: 25px;\n    padding: 0 20px;\n    height: 50px;\n    letter-spacing: 1px;\n  }\n"]))),at=f.a.div(we||(we=Object(d.a)(["\n  padding: 5px;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  width: 100%;\n  div {\n    height: 40px;\n    flex: 1;\n    background-color: var(--toogleColor);\n    padding: 5px 0;\n    display: flex;\n    flex-direction: row;\n    align-items: center;\n    justify-content: space-evenly;\n\n    overflow: hidden;\n    text-overflow: ellipsis;\n    white-space: nowrap;\n  }\n"]))),ct=f.a.div(ye||(ye=Object(d.a)(["\n  margin: 0 2px 0 5px;\n  border-radius: 0 0 0 15px;\n\n  svg {\n    font-size: 20px;\n    color: #fff;\n  }\n\n  p {\n    letter-spacing: 1px;\n    font-size: 16px;\n    color: #fff;\n  }\n"]))),st=f.a.div(Ce||(Ce=Object(d.a)(["\n  margin: 0 5px 0 2px;\n  border-radius: 0 0 15px 0;\n\n  svg {\n    font-size: 20px;\n    color: #fff;\n  }\n\n  p {\n    font-size: 16px;\n    color: #fff;\n  }\n"])));function lt(n){var e=n.groupName;return Object(sn.jsx)(ut,Object(u.a)(Object(u.a)({},n),{},{children:Object(sn.jsx)("span",{children:e})}))}var dt,ut=f.a.h1(Je||(Je=Object(d.a)(["\n  --lineColor: ",";\n  --bkgColor: ",";\n\n  margin: 50px 0 20px 0;\n  position: relative;\n  text-align: center;\n  font-size: ",';\n  letter-spacing: 2px;\n  text-transform: uppercase;\n  z-index: 1;\n  line-height: 50px;\n  ::before {\n    content: "";\n    display: block;\n    width: 50%;\n    height: 2px;\n    background-color: var(--lineColor);\n    position: absolute;\n    left: 0;\n    top: 50%;\n    z-index: -1;\n  }\n  ::after {\n    content: "";\n    display: block;\n    width: 50%;\n    height: 2px;\n    background-color: var(--lineColor);\n    position: absolute;\n    right: 0;\n    top: 50%;\n    z-index: -1;\n  }\n  span {\n    padding: 0 10px;\n    color: var(--lineColor);\n    background-color: var(--bkgColor);\n    border-radius: 5px;\n  }\n'])),(function(n){return n.lineColor||"#000"}),(function(n){return n.bkgColor||"#fff"}),(function(n){return n.fontsize}));function pt(n){var e=n.cards,t=n.groupName;return Object(sn.jsxs)(sn.Fragment,{children:[Object(sn.jsx)(lt,{groupName:t,fontsize:"40px",lineColor:"rgb(25, 133, 161)",bkgColor:"#4c5c68"}),Object(sn.jsx)(ht,{children:e.map((function(n){return Object(sn.jsx)(Xe,Object(u.a)(Object(u.a)({},n),{},{group:t}),"ChannelCard_".concat(n.cid))}))},"ChannelGridCantainer_"+t)]})}var ht=f.a.div(dt||(dt=Object(d.a)(["\n  --navColor: #4c4a46;\n  --btnHoverColor: rgb(25, 133, 161);\n  --btnHoverBgColor: rgba(25, 133, 161, 0.5);\n  --toogleColor: #fff;\n  --bkgColor: #fff;\n\n  display: grid;\n  grid-gap: 4px;\n  grid-template-columns: repeat(auto-fill, minmax(310px, 1fr));\n  justify-content: center;\n  align-items: center;\n\n  @media (max-width: 360px) {\n    display: flex;\n    flex-direction: column;\n    width: 100%;\n  }\n\n  \n"])));function ft(){var n=j(Ge),e=j(Ue);return Object(sn.jsx)(sn.Fragment,{children:e.map((function(e,t){return xt(e,n[t])}))})}var bt,xt=function(n,e){return 0===n.length?Object(sn.jsx)(b.Fragment,{},"ChannelCardsGroup_"+e):Object(sn.jsx)(pt,{cards:n,groupName:e},"ChannelCardsGroup_"+e)};function jt(n){var e=n.theme,t=Object(b.useState)(!1),r=Object(p.a)(t,2),i=r[0],o=r[1],a=Object(b.useRef)(null),c=function(){null!=a.current&&n.onSubmit(a.current.value)};return Object(sn.jsxs)(Ot,Object(u.a)(Object(u.a)({},e),{},{isEnable:i,children:[Object(sn.jsx)("input",{onChange:function(){a.current&&""!==a.current.value?o(!0):o(!1)},onKeyUp:function(n){13===n.keyCode&&c()},type:"text",name:"",id:"",placeholder:"(\u0e51\u2022\u0300\u3142\u2022\u0301)\u0648\u2727 \u8f38\u5165\u559c\u6b61\u7684\u983b\u9053\u7db2\u5740 !!! ",ref:a}),Object(sn.jsx)("button",{onClick:c,children:Object(sn.jsx)(h.s,{style:{fontSize:"1.5rem"}})})]}))}var gt,vt,mt,Ot=f.a.div(bt||(bt=Object(d.a)(["\n  --height: 2.4rem;\n  --width: 2.4rem;\n  --bgColor: #2f3640;\n  --iconColor: ",";\n  --focusColor: ",";\n  background: var(--bgColor);\n  width: ",";\n  height: var(--height);\n  border-radius: var(--height);\n  padding: calc(var(--height) / 4);\n  transition: width 0.4s;\n\n  input {\n    border: none;\n    background: none;\n    outline: none;\n    float: left;\n    color: #fff;\n    font-size: 16px;\n    line-height: var(--height);\n    border-radius: var(--height);\n    box-shadow: 0 0 10px rgba(255, 255, 255, 0.25);\n    padding: ",";\n    width: ",";\n    transition: all 0.4s;\n  }\n\n  button {\n    color: var(--iconColor);\n    float: right;\n    width: var(--width);\n    height: var(--height);\n    border-radius: 50%;\n    background-color: ",";\n    display: flex;\n    justify-content: center;\n    align-items: center;\n    :hover{\n\n    }\n  }\n\n  :focus-within {\n    width: 100%;\n    input {\n      padding: 0 1rem;\n      width: 80%;\n    }\n    button {\n      background-color: var(--focusColor);\n    }\n  }\n\n  :hover {\n    width: 100%;\n    input {\n      padding: 0 1rem;\n      width: 80%;\n    }\n    button {\n      background-color: var(--focusColor);\n    }\n  }\n"])),(function(n){return n.iconColor||"#e84118"}),(function(n){return n.focusColor||"#fff"}),(function(n){return n.isEnable?"100%":"var(--width)"}),(function(n){return n.isEnable?"0 1rem":"0px"}),(function(n){return n.isEnable?"80%":"0%"}),(function(n){return n.isEnable?"var(--focusColor)":"var(--bgColor)"})),wt=function(n,e,t){return function(r){if(0!==t.length&&""!==t[0]){var i=new FormData;i.append("username",n),i.append("ssid",e),i.append("tags",JSON.stringify(t)),O.a.post("".concat(w,"/letsdd/v2"),i).then((function(n){var e=n.data.channels,i=n.data.group,o=n.data.list;0===i.length&&1===e.length?r(Be({channels:[[]].concat(Object(v.a)(e)),group:[y,C],tags:t,list:o})):r(Be({channels:e,group:i.concat(C),tags:t,list:o})),r(Q({group:i&&i.length>0?i.includes(y)?i:[y].concat(Object(v.a)(i)):[y],list:o&&o.length>0?o.map((function(n){return V(n,{isChanged:!1,isDeleted:!1,isNewAdded:!1})})):[]}))}),(function(n){}))}}};function yt(){var n=j(W),e=n.username,t=n.ssid,r=g();return Object(sn.jsx)(jt,{onSubmit:function(n){var i;""!==n&&r("all"===n||"live"===n||"wait"===n||"off"===n||"failure"===n?wt(e,t,[n]):(i=n,function(n){var e=new FormData;e.append("url",i),O.a.post("".concat(w,"/channels/search"),e).then((function(e){var t=e.data.code,r=e.data.channels[0];switch(t){case"success":n(Re({current:G(r,{group:"Search Result",heart:!1})}));break;case"failure":n(Re({current:G(Object(u.a)(Object(u.a)({},r),{},{status:"failure"}),{group:"Search Failed",heart:!1})}));break;default:n(Re({current:G(Object(u.a)(Object(u.a)({},r),{},{status:"error"}),{group:"Search Error",heart:!1})}))}}),(function(n){}))}))},theme:{focusColor:"#1985a1",iconColor:"#c5c3c6"}})}function Ct(n){var e=n.checked,t=n.htmlFor,r=n.theme;return Object(sn.jsxs)(zt,Object(u.a)(Object(u.a)({},r),{},{children:[Object(sn.jsx)(St,{type:"checkbox",id:t||"",onClick:function(){n.handleSwitchClick({tag:t,isChecked:!e})}}),Object(sn.jsx)(Ft,{checked:e})]}))}var kt,zt=f.a.label(gt||(gt=Object(d.a)(["\n  --width: 32px;\n  --height: calc(var(--width) / 2);\n  --radius: calc(var(--height) / 2);\n  --beforeColor: ",";\n  --afterColor: ",";\n  --ballColor: ",";\n  display: inline-block;\n  cursor: pointer;\n"])),(function(n){return n.beforeColor||"#ddd"}),(function(n){return n.afterColor||"#34deeb"}),(function(n){return n.ballColor||"#fff"})),Ft=f.a.div(vt||(vt=Object(d.a)(["\n  /* \u5e95\u8272 */\n  position: relative;\n  width: var(--width);\n  height: var(--height);\n  border-radius: var(--radius);\n  background: ",';\n  transition: background 0.2s;\n\n  /* \u7403\u7403\u8207\u9670\u5f71\u6548\u679c */\n  ::after {\n    /* \u900f\u904eafter\u5be6\u73fe\u4e86\u76f8\u5c0d\u5167\u90e8\u79fb\u52d5\u7684\u6548\u679c */\n    content: "";\n    position: absolute;\n    top: 0;\n    left: 0;\n    height: var(--height);\n    width: var(--height);\n    background: var(--ballColor);\n    box-shadow: 0 0 10px rgba(0, 0, 0, 0.25);\n    border-radius: var(--radius);\n    transform: ',";\n    transition: transform 0.5s;\n  }\n"])),(function(n){return n.checked?"var(--afterColor)":"var(--beforeColor)"}),(function(n){return n.checked?"translateX(110%)":"translateX(0%)"})),St=f.a.input(mt||(mt=Object(d.a)(["\n  display: none;\n"])));function Et(){var n=j(W),e=n.username,t=n.ssid,r=j(Ve),i=g(),o=function(n){var o=n.tag;if(n.isChecked)r.includes(o)||i(wt(e,t,[].concat(Object(v.a)(r),[o])));else{var a=r.filter((function(n){return n!==o}));i(wt(e,t,a))}};return Object(sn.jsx)(sn.Fragment,{children:At.map((function(n,e){var t=n.htmlFor,i=n.afterColor,a=r.indexOf(t)>-1;return Object(sn.jsxs)(Nt,{children:[Object(sn.jsx)("p",{children:t}),Object(sn.jsx)(Ct,{htmlFor:t,checked:a,theme:{afterColor:i},handleSwitchClick:o})]},"SwitchBtnBox_"+t)}))})}var Tt,Lt,Nt=f.a.div(kt||(kt=Object(d.a)(["\n  margin: 0 0.5rem;\n  height: 2.4rem;\n\n  display: flex;\n  align-items: center;\n  flex-wrap: wrap;\n  p {\n    margin-right: 6px;\n    font-size: 18px;\n    text-transform: uppercase;\n    color: #eee;\n  }\n"]))),At=[{checked:!1,htmlFor:"live",afterColor:"#f00"},{checked:!1,htmlFor:"wait",afterColor:"#0ff"},{checked:!1,htmlFor:"off",afterColor:"#856"}];function Dt(){var n=j(W),e=j(Ve),t=g();return Object(b.useLayoutEffect)((function(){var r=n.username,i=n.ssid;return t(wt(r,i,e)),function(){}}),[t,n,e]),Object(sn.jsxs)(Bt,{children:[Object(sn.jsxs)(It,{children:[Object(sn.jsx)(yt,{}),Object(sn.jsx)(Et,{})]}),Object(sn.jsx)(Ht,{}),Object(sn.jsx)(ft,{})]})}function Ht(){var n=j(Pe);return Object(sn.jsx)(sn.Fragment,{children:null!==n?(n.status,Object(sn.jsx)(pt,{cards:[n],groupName:n.group},"ChannelCardsGroup_"+n.group)):Object(sn.jsx)(b.Fragment,{})})}var _t,Bt=f.a.div(Tt||(Tt=Object(d.a)(["\n    position: absolute;\n  top: 65px;\n  left: 50%;\n  transform: translate(-50%, 0);\n  width: 100%;\n  height: calc(100vh - 65px);\n  background: #4c5c68;\n  overflow-y: auto;\n  \n  display: flex;\n  flex-direction: column;\n"]))),It=f.a.div(Lt||(Lt=Object(d.a)(["\n  position: relative;\n  background-color: #666;\n\n  display: flex;\n  flex-wrap: wrap;\n  justify-content: start;\n  align-content: center;\n  align-items: center;\n"])));function Rt(n){var e=n,t=n.w,r=n.h;return Object(sn.jsx)(sn.Fragment,{children:e.isEnable?Object(sn.jsx)(Vt,{width:t,height:r,children:Ut(e)}):Object(sn.jsx)(b.Fragment,{})})}var qt,Wt,Mt,Ut=function(n){var e=n.method,t=n.cid,r=n.src,i=n.cname;switch(e){case"youtube":return Object(sn.jsx)("iframe",{src:r,title:"".concat(i,"'s channel"),scrolling:"no",allowFullScreen:!1,seamless:!1},"Youtube_ChatboxIframe_".concat(t));case"twitch":return Object(sn.jsx)("iframe",{src:r,title:"".concat(i,"'s channel"),scrolling:"no",frameBorder:"0",allowFullScreen:!1,seamless:!1},"Twitch_ChatboxIframe_".concat(t))}},Vt=f.a.div(_t||(_t=Object(d.a)(["\n  background-color: #000;\n  width: ",";\n  height: ",";\n  iframe {\n    width: ",";\n    height: ",";\n  }\n"])),(function(n){return n.width}),(function(n){return n.height}),(function(n){return n.width}),(function(n){return n.height}));function Gt(n){var e=n.flexType,t=n.player,r=n.chatbox,i=t.cid,o=t.w,a=t.h,c=r.w,s=r.h,l=Object(b.useState)(!1),d=Object(p.a)(l,2),f=d[0],x=d[1],j=g();return Object(sn.jsxs)(Jt,{flexType:e,playerWidth:o,playerHeight:a,chatboxWidth:c,chatboxHeight:s,children:[Object(sn.jsxs)(Yt,{children:[Xt(t),Object(sn.jsxs)(Kt,{onClick:function(){x(!f)},onMouseEnter:function(){x(!0)},onMouseLeave:function(){x(!1)},isEnable:f,children:[Object(sn.jsx)("div",{onClick:function(){j(re({cid:i}))},children:Object(sn.jsx)(h.g,{})}),"\xa0",Object(sn.jsx)("div",{onClick:function(){j(ie({cid:i}))},children:Object(sn.jsx)(h.p,{})})]})]}),Object(sn.jsx)(Rt,Object(u.a)({},r))]})}var Pt,Xt=function(n){var e=n.method,t=n.cid,r=n.src,i=n.cname;switch(e){case"youtube":return Object(sn.jsx)("iframe",{src:r,title:"".concat(i,"'s channel"),scrolling:"no",frameBorder:"0",allowFullScreen:!1,sandbox:"allow-modals allow-scripts allow-same-origin allow-popups allow-popups-to-escape-sandbox allow-presentation"},"Youtube_PlayerIframe_".concat(t));case"twitch":return Object(sn.jsx)("iframe",{src:r,title:"".concat(i,"'s channel"),scrolling:"no",frameBorder:"0",allowFullScreen:!1,sandbox:"allow-modals allow-scripts allow-same-origin allow-popups allow-popups-to-escape-sandbox allow-presentation"},"Twitch_PlayerIframe_".concat(t))}},Jt=f.a.div(qt||(qt=Object(d.a)(["\n  --playerWidth: ","px;\n  --playerHeight: ","px;\n  --chatboxWidth: ","px;\n  --chatboxHeight: ","px;\n  position: relative;\n  display: flex;\n  flex-direction: ",";\n  align-items: center;\n  justify-content: center;\n  background-color: #000;\n"])),(function(n){return n.playerWidth}),(function(n){return n.playerHeight}),(function(n){return n.chatboxWidth}),(function(n){return n.chatboxHeight}),(function(n){return n.flexType})),Yt=f.a.div(Wt||(Wt=Object(d.a)(["\n  width: var(--playerWidth);\n  height: var(--playerHeight);\n  position: relative;\n  iframe {\n    z-index: 1;\n    width: var(--playerWidth);\n    height: var(--playerHeight);\n  }\n"]))),Kt=f.a.h1(Mt||(Mt=Object(d.a)(["\n  top: 0;\n  right: 0;\n  position: absolute;\n  width: 100%;\n  height: ",";\n  max-height: 100vh;\n  background-color: #000;\n  opacity: ",";\n  transition: 0.6s;\n  cursor: pointer;\n\n  display: flex;\n  align-items: center;\n  justify-content: center;\n\n  // MenuButton\n  div {\n    font-size: ",";\n    svg {\n      position: relative;\n      top: ",";\n      color: hotpink;\n      cursor: pointer;\n      border-radius: 50%;\n      opacity: ",";\n      transform: ",";\n      transition: 0.4s;\n      :hover {\n        color: gray;\n        background-color: hotpink;\n      }\n    }\n  }\n"])),(function(n){return n.isEnable?"200px":"100px"}),(function(n){return n.isEnable?"0.8":"0.02"}),(function(n){return n.isEnable?"75px":"0px"}),(function(n){return n.isEnable?"0%":"30%"}),(function(n){return n.isEnable?".8":"0"}),(function(n){return n.isEnable?"rotate(360deg)":"none"}));function Qt(){var n=Object(b.useRef)(null),e=j(se),t=e.length,r=j(le),i=r.col,o=r.row,a=r.flexType,c=g(),s=Object(b.useCallback)((function(){if(0!==t&&null!==n.current){var e=n.current,r=e.clientWidth,i=e.clientHeight;c(ne({clientWidth:r,clientHeight:i}))}}),[c,n,t]);return Object(b.useLayoutEffect)((function(){s();var n=null,e=function(){n&&clearTimeout(n),n=setTimeout(s,500)};return window.addEventListener("resize",e),function(){n&&clearTimeout(n),window.removeEventListener("resize",e)}}),[s]),Object(sn.jsx)(er,{ref:n,col:i,row:o,children:e.map((function(n){var e=n.player,t=n.chatbox;return Object(sn.jsx)(Gt,{flexType:a,player:e,chatbox:t},"TheaterPlayerItem_"+e.cid)}))})}var Zt,$t,nr,er=f.a.div(Pt||(Pt=Object(d.a)(["\n  position: absolute;\n  left: 0;\n  top: 100px;\n  width: 100%;\n  height: calc(100% - 100px);\n  box-sizing: border-box;\n  background: linear-gradient(120deg, #4c4a46, #c5c3c6);\n  z-index: 1;\n\n  display: grid;\n  grid-template-columns: repeat(",", 1fr);\n  grid-template-rows: repeat(",", 1fr);\n"])),(function(n){return n.col}),(function(n){return n.row}));function tr(n){var e=n.index,t=n.isStopTrans,r=n.item,i=r.preview,o=r.cname,a=r.avatar,c=r.checked,s=g();return Object(sn.jsxs)(cr,{index:e,isStopTrans:t,children:[Object(sn.jsxs)(sr,{children:[Object(sn.jsx)("img",{src:i,alt:"".concat(o,"_preview")}),Object(sn.jsx)("p",{children:"".concat(o)})]}),Object(sn.jsx)(lr,{src:a,alt:"".concat(o,"_avatar"),onClick:function(){r.checked?s(te({item:r})):s(ee({item:r}))},checked:c})]})}var rr,ir,or,ar,cr=f.a.div(Zt||(Zt=Object(d.a)(["\n  position: relative;\n  left: ","%;\n  min-width: 100%;\n  height: 100px;\n\n  background-color: var(--navColor);\n\n  display: flex;\n  flex-direction: column;\n  align-items: center;\n  justify-content: space-evenly;\n\n  transition: ",";\n"])),(function(n){return-100*n.index}),(function(n){return n.isStopTrans?"none":".5s"})),sr=f.a.div($t||($t=Object(d.a)(["\n  position: relative;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  overflow: hidden;\n\n  width: 100%;\n  height: 100%;\n\n  display: flex;\n  flex-direction: column;\n\n  img {\n    width: auto;\n    height: auto;\n    filter: blur(2px);\n    opacity: 0.3;\n  }\n\n  p {\n    position: absolute;\n    top: 100px;\n    padding: 4px;\n    color: hotpink;\n    background-color: var(--navColor);\n    opacity: 0.8;\n    text-align: center;\n    font-size: 18px;\n    transition: top 0.5s;\n    z-index: 1;\n\n    min-width: 100%;\n    border-radius: 70% 70% 0 0;\n  }\n\n  :hover {\n    p {\n      top: 78px;\n    }\n  }\n"]))),lr=f.a.img(nr||(nr=Object(d.a)(["\n  position: absolute;\n  transform: translate(-50%, -50%);\n  left: 50%;\n  top: 50%;\n  width: 85px;\n  border-radius: 50%;\n  border: ",";\n  cursor: pointer;\n  transition: width 0.2s ease-in-out;\n  transition: border 0.5s;\n  opacity: 0.9;\n\n  :hover {\n    width: 90px;\n    opacity: 1;\n  }\n"])),(function(n){return n.checked?"solid 5px hotpink":"none"}));function dr(){var n=j(de),e=n.sliderIndex,t=n.isTakenOverAnim,r=j(ue),i=j(pe),o=g();return Object(sn.jsx)(fr,{children:Object(sn.jsxs)(br,{children:[Object(sn.jsx)(jr,{onClick:function(){o(function(n,e){return function(t){var r=n-1;0===r?(t(Kn({next:e+1,isTakenOverAnim:!0})),setTimeout((function(){t(Kn({next:e,isTakenOverAnim:!1}))}))):t(Kn({next:r,isTakenOverAnim:!1}))}}(e,r))},children:Object(sn.jsx)(h.n,{})}),Object(sn.jsx)(jr,{onClick:function(){o(function(n,e){return function(t){var r=n+1;r===e+1?(t(Kn({next:0,isTakenOverAnim:!0})),setTimeout((function(){t(Kn({next:1,isTakenOverAnim:!1}))}))):t(Kn({next:r,isTakenOverAnim:!1}))}}(e,r))},children:Object(sn.jsx)(h.r,{})}),Object(sn.jsx)(xr,{children:i.map((function(n,r){return Object(sn.jsx)(tr,{item:n,index:e,isStopTrans:t},"slider_".concat(r,"_cid_").concat(n.cid,"_content"))}))})]})})}var ur,pr,hr,fr=f.a.div(rr||(rr=Object(d.a)(["\n  position: absolute;\n  width: 100%;\n  height: 100vh;\n  background-color:#4c4a46;\n  z-index: 1;\n"]))),br=f.a.div(ir||(ir=Object(d.a)(["\n  position: relative;\n  width: 100%;\n  margin: 0 auto;\n  overflow: hidden;\n  box-sizing: border-box;\n  display: flex;\n  flex-direction: row;\n  background: none;\n"]))),xr=f.a.div(or||(or=Object(d.a)(["\n  width: 100%;\n  margin: 0 auto;\n  display: flex;\n  justify-content: left;\n  overflow: hidden;\n  align-items: center;\n  background: none;\n"]))),jr=f.a.span(ar||(ar=Object(d.a)(["\n  position: absolute;\n  transform: translate(-50%, -50%);\n  top: 50%;\n  font-size: 50px;\n  background-color: none;\n  color: hotpink;\n  opacity: 0.7;\n  \n  cursor: pointer;\n  z-index: 1;\n  border-radius: 50%;\n  :nth-of-type(1) {\n    left: 30px;\n    text-align: right;\n  }\n  :nth-of-type(2) {\n    left: calc(100% - 100px);\n    text-align: right;\n  }\n  :hover {\n    background-color: hotpink;\n    color: gray;\n    transition: 0.3s;\n  }\n"])));function gr(n){var e=j(Me),t=j(de),r=t.isFolded,i=t.isFullScreen,o=g();return Object(b.useLayoutEffect)((function(){var n;if(e)return o((n="live",function(e){O.a.get("".concat(w,"/channels/").concat(n)).then((function(n){var t=n.data.code,r=n.data.channels;"success"===t&&e(Yn({channels:r}))}),(function(n){}))})),function(){};xi.push({pathname:"/channels"})}),[e,o]),Object(sn.jsxs)(sn.Fragment,{children:[Object(sn.jsx)(mr,{onClick:function(){o(Qn(!r))},isFolded:r,children:r?Object(sn.jsx)(h.u,{}):Object(sn.jsx)(h.v,{})}),Object(sn.jsx)(Or,{onClick:function(){o(Zn(!i))},isFolded:r,children:i?Object(sn.jsx)(h.k,{}):Object(sn.jsx)(h.j,{})}),Object(sn.jsxs)(vr,{isFolded:r,children:[Object(sn.jsx)(dr,{}),Object(sn.jsx)(Qt,{})]})]})}var vr=f.a.div(ur||(ur=Object(d.a)(["\n  --topOffset: ",";\n\n  position: absolute;\n  left: 0;\n  top: var(--topOffset);\n\n  width: 100%;\n  height: calc(100vh - var(--topOffset));\n  z-index: 3;\n"])),(function(n){return n.isFolded?"-100px":"65px"})),mr=f.a.span(pr||(pr=Object(d.a)(["\n  position: absolute;\n  transform: translate(-50%, -50%);\n  top: ",";\n  left: calc(100% - 35px);\n  text-align: right;\n\n  font-size: 35px;\n  background-color: #eee;\n  color: hotpink;\n  opacity: 0.7;\n\n  cursor: pointer;\n  z-index: 4;\n  border-radius: 50%;\n\n  transition: 0.3s;\n\n  :hover {\n    background-color: hotpink;\n    color: gray;\n  }\n"])),(function(n){return n.isFolded?"85px":"135px"})),Or=f.a.span(hr||(hr=Object(d.a)(["\n  position: absolute;\n  transform: translate(-50%, -50%);\n  top: ",";\n  left: calc(100% - 35px);\n  text-align: right;\n\n  font-size: 35px;\n  background-color: #eee;\n  color: hotpink;\n  opacity: 0.7;\n\n  cursor: pointer;\n  z-index: 4;\n  border-radius: 50%;\n\n  transition: 0.3s;\n\n  :hover {\n    background-color: hotpink;\n    color: gray;\n  }\n"])),(function(n){return n.isFolded?"35px":"85px"}));function wr(){var n=j(U),e=g();return Object(b.useEffect)((function(){return n?xi.push({pathname:"/channels"}):(e(B("")),xi.push({pathname:"/login"})),function(){}}),[n,e]),Object(sn.jsx)("div",{children:"Home"})}var yr,Cr,kr,zr,Fr,Sr,Er,Tr,Lr,Nr,Ar,Dr,Hr,_r,Br=f.a.div(yr||(yr=Object(d.a)(["\n  position: absolute;\n  top: 30px;\n  left: 0;\n  width: 100%;\n  height: 100vh;\n  /* background: none; */\n  background: linear-gradient(120deg, #4c4a46, #c5c3c6);\n  overflow: hidden;\n"]))),Ir=f.a.div(Cr||(Cr=Object(d.a)(["\n  --titleColor: #E87A00;\n\n  --mainColor: #4c5c68;\n  --mainBorderColor: #adadad;\n  --mainHoverColor: #E87A00;\n  --mainBorderHoverColor: #D89C60;\n\n  --inputLineColor: #adadad;\n  --inputLineValidColor: #E87A00;\n\n  --msgBgColor: #E87A00;\n  --msgBorderColor: #D89C60;\n  --msgTxtColor: #fff;\n\n  position: relative;\n  top: 50%;\n  left: 50%;\n  transform: translate(-50%, -50%);\n\n  box-sizing: border-box;\n  border-radius: 10px;\n  background: rgba(0, 0, 0, 0.2);\n  box-shadow: 0 15px 25px rgba(0, 0, 0, 0.5);\n\n  max-width: 480px;\n  min-width: 250px;\n\n  display: flex;\n  flex-direction: column;\n  justify-content: center;\n"]))),Rr=f.a.div(kr||(kr=Object(d.a)(['\n  padding: 20px 40px 0 40px;\n  background-color: none;\n  div {\n    display: flex;\n    flex-direction: row;\n    align-items: center;\n\n    input {\n      width: 100%;\n      padding: 0 5px;\n      height: 40px;\n      font-size: 16px;\n      border: none;\n      outline: none;\n      color: var(--inputLineValidColor);\n\n      :focus ~ label {\n        top: -5px;\n        color: var(--inputLineValidColor);\n      }\n      :valid ~ label {\n        top: -5px;\n        color: var(--inputLineValidColor);\n      }\n      :focus ~ span::before {\n        width: 100%;\n      }\n      :valid ~ span::before {\n        width: 100%;\n      }\n    }\n    label {\n      position: absolute;\n      top: 50%;\n      left: 5px;\n      color: var(--inputLineColor);\n      transform: translateY(-50%);\n      font-size: 16px;\n      pointer-events: none;\n      transition: 0.3s;\n    }\n    span {\n      ::before {\n        content: "";\n        position: absolute;\n        top: 40px;\n        left: 0;\n        width: 0%;\n        height: 2px;\n        background-color: var(--inputLineValidColor);\n        transition: 0.3s;\n      }\n    }\n  }\n']))),qr=f.a.div(zr||(zr=Object(d.a)(["\n  padding: 20px 0 0 0;\n  h1 {\n    letter-spacing: 5px;\n    text-align: center;\n    padding: 0 0 20px 0;\n    border-bottom: 1px solid silver;\n    font-size: 28px;\n    width: 100%;\n    color: var(--titleColor);\n    font-weight: 400;\n  }\n"]))),Wr=f.a.div(Fr||(Fr=Object(d.a)(['\n  position: relative;\n  left: 0%;\n  top: 0%;\n  padding: 20px 0;\n\n  border-radius: 20px;\n  border: 2px solid var(--msgBorderColor);\n\n  display: flex;\n  justify-content: center;\n  background: var(--msgBgColor);\n  box-shadow: 0 15px 25px rgba(0, 0, 0, 0.2);\n\n  :after {\n    position: absolute;\n    margin-top: 59px;\n    content: "";\n    width: 25px;\n    height: 25px;\n    background-color: var(--msgBgColor);\n    border-bottom: 2px solid var(--msgBorderColor);\n    border-right: 2px solid var(--msgBorderColor);\n\n    transform: rotate(45deg);\n    z-index: 1;\n  }\n\n  h1 {\n    position: relative;\n    display: block;\n    color: var(--msgTxtColor);\n    z-index: 2;\n\n    animation: animate 0.8s linear infinite;\n\n    @keyframes animate {\n      0% {\n        transform: translateX(-3px);\n      }\n      50% {\n        transform: translateX(3px);\n      }\n      100% {\n        transform: translateX(-3px);\n      }\n    }\n  }\n']))),Mr=f.a.div(Sr||(Sr=Object(d.a)(["\n  position: relative;\n  border-bottom: 2px solid var(--inputLineColor);\n  margin: 30px 0;\n\n  input {\n    background: none;\n  }\n"]))),Ur=f.a.div(Er||(Er=Object(d.a)(["\n  position: relative;\n  border-bottom: 2px solid var(--inputLineColor);\n  margin: 30px 0;\n\n  input {\n    background: none;\n  }\n"]))),Vr=f.a.div(Tr||(Tr=Object(d.a)(["\n  width: 100%;\n  padding: 10px 0;\n  border-radius: 25px;\n  font-size: 18px;\n  font-weight: 700px;\n  color: var(--inputLineColor);\n  background-color: var(--mainColor);\n  border: 2px solid;\n  border-color: var(--mainBorderColor);\n  letter-spacing: 2px;\n  cursor: pointer;\n  outline: none;\n  p {\n    width: 100%;\n    text-align: center;\n    pointer-events: none;\n  }\n  :hover {\n    color: #fff;\n    background-color: var(--mainHoverColor);\n    border-color: var(--mainBorderHoverColor);\n    transition: 0.2s;\n  }\n"]))),Gr=f.a.div(Lr||(Lr=Object(d.a)(["\n  position: relative;\n  margin: 30px 0;\n\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  p {\n    text-align: center;\n    pointer-events: none;\n    color: var(--inputLineColor);\n  }\n  div {\n    padding: 0px 10px;\n    color: var(--titleColor);\n    cursor: pointer;\n    :hover {\n      text-decoration: underline;\n    }\n  }\n"])));function Pr(){var n=j(W),e=j(U),t=j(M),r=Object(b.useRef)(null),i=Object(b.useRef)(null),o=g();return Object(b.useLayoutEffect)((function(){return e&&(o(B("".concat(n.username," \u8981\u767b\u51fa\u55ce?"))),xi.push({pathname:"/logout"})),function(){}}),[]),Object(b.useLayoutEffect)((function(){var e=n.username;r.current&&""!==e&&(r.current.value=e)}),[r,n]),Object(sn.jsx)(Br,{children:Object(sn.jsxs)(Ir,{children:[Object(sn.jsx)(qr,{children:Object(sn.jsx)("h1",{children:"\u6703\u54e1\u767b\u5165"})}),Object(sn.jsxs)(Rr,{children:[""!==t?Object(sn.jsx)(Wr,{children:Object(sn.jsx)("h1",{children:t})}):Object(sn.jsx)(b.Fragment,{}),Object(sn.jsxs)(Mr,{children:[Object(sn.jsx)("input",{type:"text",ref:r,required:!0}),Object(sn.jsx)("span",{}),Object(sn.jsx)("label",{children:"\u7528\u6236\u540d\u7a31"})]}),Object(sn.jsxs)(Ur,{children:[Object(sn.jsx)("input",{type:"password",ref:i,required:!0}),Object(sn.jsx)("span",{}),Object(sn.jsx)("label",{children:"\u7528\u6236\u5bc6\u78bc"})]}),Object(sn.jsx)(Vr,{onClick:function(){var n,e,t=(null===(n=r.current)||void 0===n?void 0:n.value)+"",a=(null===(e=i.current)||void 0===e?void 0:e.value)+"";o(""!==t?""!==a?function(n,e){return function(t){var r=new FormData;r.append("username",n),r.append("password",e),O.a.post("".concat(w,"/auth/login"),r).then((function(e){var r=e.data.code,i=e.data.msg;if("success"===r){var o=e.data.session,a=o.ssid,c=o.expiration;t(I({username:n,ssid:a,expiration:c,msg:i})),setTimeout((function(){xi.push({pathname:"/channels"})}),1e3)}else t(B(i))}),(function(n){}))}}(t,a):B("\u5bc6\u78bc\u4e0d\u53ef\u70ba\u7a7a"):B("\u7528\u6236\u540d\u4e0d\u53ef\u70ba\u7a7a"))},children:Object(sn.jsx)("p",{children:"\u767b \u5165"})})," ",Object(sn.jsxs)(Gr,{children:[Object(sn.jsx)("p",{children:"\u9084\u4e0d\u662f\u6703\u54e1?"}),Object(sn.jsx)("div",{onClick:function(){o(B("")),xi.push({pathname:"/register"})},children:"\u8a3b\u518a"})]})]})]})})}function Xr(){var n=j(W),e=j(U),t=j(M),r=Object(b.useRef)(null),i=Object(b.useRef)(null),o=Object(b.useRef)(null),a=Object(x.b)();return Object(b.useLayoutEffect)((function(){return e&&(a(B("".concat(n.username," \u8981\u767b\u51fa\u55ce?"))),xi.push({pathname:"/logout"})),function(){}}),[]),Object(b.useLayoutEffect)((function(){var e=n.username;r.current&&""!==e&&(r.current.value=e)}),[r,n]),Object(sn.jsx)(Br,{children:Object(sn.jsxs)(Ir,{children:[Object(sn.jsx)(qr,{children:Object(sn.jsx)("h1",{children:"\u6703\u54e1\u8a3b\u518a"})}),Object(sn.jsxs)(Rr,{children:[""!==t?Object(sn.jsx)(Wr,{children:Object(sn.jsx)("h1",{children:t})}):Object(sn.jsx)(b.Fragment,{}),Object(sn.jsxs)(Mr,{children:[Object(sn.jsx)("input",{type:"text",ref:r,required:!0}),Object(sn.jsx)("span",{}),Object(sn.jsx)("label",{children:"\u7528\u6236\u540d\u7a31"})]}),Object(sn.jsxs)(Ur,{children:[Object(sn.jsx)("input",{type:"password",ref:i,required:!0}),Object(sn.jsx)("span",{}),Object(sn.jsx)("label",{children:"\u7528\u6236\u5bc6\u78bc"})]}),Object(sn.jsxs)(Ur,{children:[Object(sn.jsx)("input",{type:"password",ref:o,required:!0}),Object(sn.jsx)("span",{}),Object(sn.jsx)("label",{children:"\u5bc6\u78bc\u78ba\u8a8d"})]}),Object(sn.jsx)(Vr,{onClick:function(){var n,e,t,c=(null===(n=r.current)||void 0===n?void 0:n.value)+"",s=(null===(e=i.current)||void 0===e?void 0:e.value)+"",l=(null===(t=o.current)||void 0===t?void 0:t.value)+"";a(""!==c?""!==s?s===l?function(n,e){return function(t){var r=new FormData;r.append("username",n),r.append("password",e),O.a.post("".concat(w,"/auth/register"),r).then((function(e){var r=e.data.code,i=e.data.msg;if("success"===r){var o=e.data.session,a=o.ssid,c=o.expiration;t(R({username:n,ssid:a,expiration:c,msg:i})),setTimeout((function(){xi.push({pathname:"/channels"})}),1e3)}else t(B(i))}),(function(n){}))}}(c,s):B("\u8f38\u5165\u7684\u5bc6\u78bc\u4e0d\u4e00\u81f4"):B("\u5bc6\u78bc\u4e0d\u53ef\u70ba\u7a7a"):B("\u7528\u6236\u540d\u4e0d\u53ef\u70ba\u7a7a"))},children:Object(sn.jsx)("p",{children:"\u8a3b \u518a"})})," ",Object(sn.jsxs)(Gr,{children:[Object(sn.jsx)("p",{children:"\u8a3b\u518a\u904e\u4e86?"}),Object(sn.jsx)("div",{onClick:function(){a(B("")),xi.push({pathname:"/login"})},children:"\u767b\u5165"})]})]})]})})}function Jr(){var n=j(W),e=j(U),t=j(M),r=g();return Object(b.useLayoutEffect)((function(){return e||(r(B("".concat(n.username," \u8981\u767b\u5165\u55ce?"))),xi.push({pathname:"/login"})),function(){}}),[]),Object(sn.jsx)(Br,{children:Object(sn.jsxs)(Ir,{children:[Object(sn.jsx)(qr,{children:Object(sn.jsx)("h1",{children:"\u6703\u54e1\u767b\u51fa"})}),Object(sn.jsxs)(Rr,{children:[""!==t?Object(sn.jsx)(Wr,{children:Object(sn.jsx)("h1",{children:t})}):Object(sn.jsx)(b.Fragment,{}),Object(sn.jsx)("br",{}),Object(sn.jsx)("br",{}),Object(sn.jsx)(Vr,{onClick:function(){var e=n.username,t=n.ssid;r(function(n,e){return function(t){var r=new FormData;r.append("username",n),r.append("ssid",e),O.a.post("".concat(w,"/auth/logout"),r).then((function(e){if("success"===e.data.code){var r={username:"",ssid:"",expiration:-1,msg:"".concat(n," \u5df2\u767b\u51fa")};t(I(r)),xi.push({pathname:"/login/"})}else t(B("".concat(n," \u767b\u51fa\u5931\u6557"))),xi.push({pathname:"/logout/"})}),(function(n){t(B("\u767b\u51fa\u6642\u767c\u751f\u7570\u5e38\uff0c\u8acb\u91cd\u8a66"))}))}}(e,t))},children:Object(sn.jsx)("p",{children:"\u767b \u51fa"})})," ",Object(sn.jsx)("br",{}),Object(sn.jsx)("br",{})]})]})})}function Yr(n){var e=n.cid,t=n.group,r=n.owner,i=n.cname,o=n.avatar,a=n.isDeleted,c=n.isNewAdded,s=j(en),l=j(tn),d=g(),p=function(n){var e=s.filter((function(e){return e.cid!==n.cid}));return[n].concat(Object(v.a)(e))},f=function(n){var e=s.map((function(e){return e.cid!==n.cid?e:n}));return Object(v.a)(e)};return Object(sn.jsxs)(Qr,{children:[Object(sn.jsx)(Zr,{children:Object(sn.jsx)("img",{src:o,alt:"".concat(i,"'s avatar")})}),Object(sn.jsx)($r,{isDeleted:a,isNewAdded:c,children:Object(sn.jsx)("label",{htmlFor:e,children:r})}),Object(sn.jsxs)(ni,{children:[Object(sn.jsxs)(ei,{onClick:function(){var e=window.prompt("\u6307\u5b9a\u70ba\u65b0\u7684\u7fa4\u7d44? ",t);if(null!=e)if(""!==e){if(e!==t){var r=p(Object(u.a)(Object(u.a)({},n),{},{isChanged:!0,group:e})),i=[e].concat(Object(v.a)(l.filter((function(n){return n!==e}))));d(Q({group:i,list:r}))}}else alert("\u4e0d\u53ef\u4ee5\u70ba\u7a7a\u767d")},children:[Object(sn.jsx)(h.l,{}),Object(sn.jsx)("p",{children:r})]}),Object(sn.jsxs)(ei,{onClick:function(){var e=window.prompt("\u8f38\u5165\u65b0\u7684\u983b\u9053\u540d\u7a31 ? ",r);if(null!=e)if(""!==e){var t=p(Object(u.a)(Object(u.a)({},n),{},{isChanged:!0,owner:e}));d(Q({list:t,group:null}))}else alert("\u4e0d\u53ef\u4ee5\u70ba\u7a7a\u767d")},children:[Object(sn.jsx)(h.h,{}),Object(sn.jsx)("p",{children:r})]}),a?Object(sn.jsxs)(ei,{onClick:function(){var e=f(Object(u.a)(Object(u.a)({},n),{},{isDeleted:!1,group:t}));d(Q({list:e,group:null}))},children:[Object(sn.jsx)(h.q,{}),Object(sn.jsx)("p",{children:r})]}):Object(sn.jsxs)(ei,{onClick:function(){if(window.confirm("\u78ba\u5b9a\u8981\u505c\u6b62\u8ffd\u96a8 ".concat(r," \u55ce ?"))){var e=f(Object(u.a)(Object(u.a)({},n),{},{isDeleted:!0,group:t}));d(Q({list:e,group:null}))}},children:[Object(sn.jsx)(h.x,{}),Object(sn.jsx)("p",{children:r})]})]})]})}var Kr,Qr=f.a.div(Nr||(Nr=Object(d.a)(["\n  --navColor: #4c4a46;\n  --btnHoverColor: rgb(25, 133, 161);\n  box-sizing: border-box;\n  display: flex;\n  justify-content: space-between;\n  align-items: center;\n\n  background-color: none;\n  border-radius: 10px;\n  box-shadow: 0 15px 25px rgba(0, 0, 0, 0.5);\n\n  padding: 16px;\n  margin: 6px auto;\n"]))),Zr=f.a.div(Ar||(Ar=Object(d.a)(["\n  margin-right: 15px;\n  border-radius: 15px;\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  pointer-events: none;\n\n  img {\n    min-width: 50px;\n    max-width: 100px;\n    background-color: #999;\n    border-radius: 15px;\n    width: 4rem;\n    height: 4rem;\n    height: auto;\n  }\n"]))),$r=f.a.div(Dr||(Dr=Object(d.a)(["\n  width: 100%;\n  padding: 0 0;\n  overflow: hidden;\n  text-overflow: ellipsis;\n  white-space: nowrap;\n  color: ",";\n  label {\n    text-decoration: ",";\n    font-size: 18px;\n  }\n"])),(function(n){return n.isNewAdded?"#f00":n.isDeleted?"#888":"#fff"}),(function(n){return n.isDeleted?"line-through":"none"})),ni=f.a.div(Hr||(Hr=Object(d.a)(["\n  display: flex;\n  align-items: center;\n"]))),ei=f.a.div(_r||(_r=Object(d.a)(["\n  margin-left: 12px;\n  padding: 5px 5px;\n  cursor: pointer;\n  font-size: 25px;\n  border-radius: 50%;\n  color: #fff;\n  p {\n    display: none;\n  }\n  :hover {\n    color: var(--btnHoverColor);\n    background-color: #fff;\n  }\n"])));function ti(n){var e=n.groupName||y;return Object(sn.jsxs)(sn.Fragment,{children:[Object(sn.jsx)(lt,{groupName:e,fontsize:"30px",lineColor:"rgb(25, 133, 161)",bkgColor:"#4c5c68"}),Object(sn.jsx)(oi,{children:n.items.map((function(n){return Object(sn.jsx)("li",{children:Object(sn.jsx)(Yr,Object(u.a)({},n))},"FavoredCard_"+n.cid)}))})]})}var ri,ii,oi=f.a.ul(Kr||(Kr=Object(d.a)(["\n  max-width: 960px;\n  width: 99%;\n  margin: auto;\n"])));function ai(){var n=j(on),e=j(tn);return Object(sn.jsx)(ci,{children:Object(sn.jsx)(si,{children:n.map((function(n,t){var r=e[t];return n.length>0?Object(sn.jsx)(ti,{items:n,groupName:r},"GroupVisitItems_"+r):Object(sn.jsx)(b.Fragment,{},"GroupVisitItems_"+r)}))})})}var ci=f.a.div(ri||(ri=Object(d.a)(["\n  --btnTextColor: #fff;\n  --btnTextHoverColor: #fff;\n  --btnBgColor: rgba(25, 133, 161, 0.5);\n  --btnBgHoverColor: rgb(25, 133, 161);\n  --groupTextColor: rgb(25, 133, 161);\n  --toogleColor: #fff;\n  --bkgColor: #4c4a46;\n\n  position: absolute;\n  top: 65px;\n  left: 50%;\n  transform: translate(-50%, 0);\n  width: 100%;\n  height: calc(100vh - 65px);\n  background: #4c5c68;\n  overflow-y: auto;\n"]))),si=f.a.div(ii||(ii=Object(d.a)(["\n  position: relative;\n"])));function li(){var n=j(W),e=j(U),t=j(Me),r=g();return Object(b.useLayoutEffect)((function(){var i=n.username,o=n.ssid;return e?t||r(function(n,e){return function(t){var r=new FormData;r.append("username",n),r.append("ssid",e),O.a.post("".concat(w,"/visit/edit"),r).then((function(n){var e=n.data.code,r=n.data.visit;if("success"===e){var i=r.group&&r.group.length>0?r.group.includes(y)?r.group:[y].concat(Object(v.a)(r.group)):[y],o=r.list&&r.list.length>0?r.list.map((function(n){return V(n,{isChanged:!1,isDeleted:!1,isNewAdded:!1})})):[];t(Q({list:o,group:i}))}else"failure"===e&&(Q({list:[],group:[y]}),xi.push({pathname:"/login"}),t(B("\u767c\u751f\u932f\u8aa4\u4e86\uff0c\u9ebb\u7169\u8acb\u91cd\u65b0\u767b\u5165")))}),(function(n){Q({list:[],group:[y]})}))}}(i,o)):(xi.push({pathname:"/login"}),r(B("\u60f3\u52a0\u6536\u85cf\u8981\u5148\u767b\u5165\u5537~"))),function(){}}),[r,n,e,t]),Object(sn.jsx)(ai,{})}function di(){return Object(sn.jsxs)("div",{children:[Object(sn.jsx)(he,{}),Object(sn.jsxs)(l.c,{children:[Object(sn.jsx)(l.a,{exact:!0,path:"/",component:wr}),Object(sn.jsx)(l.a,{path:"/channels/",component:Dt}),Object(sn.jsx)(l.a,{path:"/theater/",component:gr}),Object(sn.jsx)(l.a,{path:"/favored/",component:li}),Object(sn.jsx)(l.a,{path:"/login/",component:Pr}),Object(sn.jsx)(l.a,{path:"/logout/",component:Jr}),Object(sn.jsx)(l.a,{path:"/register/",component:Xr})]})]})}var ui=t(12),pi=Object(ui.b)({channelCardStore:qe,user:q,theater:oe,favored:$}),hi=Object(k.c)({serializableCheck:!1});!function(){var n="localhost"===window.location.hostname||"127.0.0.1"===window.location.hostname,e=window.location.hostname;Sn={IsLocal:n,HostName:e}}();var fi=Object(k.a)({reducer:pi,middleware:hi}),bi=t(14),xi=Object(bi.a)();s.a.render(Object(sn.jsx)(x.a,{store:fi,children:Object(sn.jsx)(l.b,{history:xi,children:Object(sn.jsx)(di,{})})}),document.getElementById("root"))}},[[71,1,2]]]);
//# sourceMappingURL=main.fdbc0864.chunk.js.map